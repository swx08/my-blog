import{_ as s,o as i,c as a,a7 as t}from"./chunks/framework.DaTdCRDa.js";const y=JSON.parse('{"title":"Linux基本命令","description":"","frontmatter":{"title":"Linux基本命令","author":"技术解码","readingTime":true,"date":"2024-07-20T00:00:00.000Z","tag":["Linux"],"categories":["Linux"]},"headers":[],"relativePath":"linux/Linux.md","filePath":"linux/Linux.md","lastUpdated":null}'),n={name:"linux/Linux.md"},l=t(`<h1 id="linux基本命令" tabindex="-1">Linux基本命令 <a class="header-anchor" href="#linux基本命令" aria-label="Permalink to &quot;Linux基本命令&quot;">​</a></h1><p><strong>学习目标</strong></p><ul><li>了解什么是Linux操作系统？</li><li>熟练掌握Linux操作系统的环境搭建</li><li>掌握Linux系统的常用命令</li><li>掌握在Linux部署开发的环境</li></ul><h3 id="_1、linux系统目录结构" tabindex="-1">1、Linux系统目录结构 <a class="header-anchor" href="#_1、linux系统目录结构" aria-label="Permalink to &quot;1、Linux系统目录结构&quot;">​</a></h3><h4 id="_1-1、树状目录结构" tabindex="-1">1.1、树状目录结构 <a class="header-anchor" href="#_1-1、树状目录结构" aria-label="Permalink to &quot;1.1、树状目录结构&quot;">​</a></h4><p>目录结构如下：与windows系统相比最大不同点在于不分磁盘，Linux操作系统作为系统的根目录。</p><p><a href="https://imgse.com/i/p9UyTKK" target="_blank" rel="noreferrer"><img src="https://s1.ax1x.com/2023/05/06/p9UyTKK.md.png" alt="linux" style="zoom:200%;"></a></p><h4 id="_1-2、目录详解" tabindex="-1">1.2、目录详解 <a class="header-anchor" href="#_1-2、目录详解" aria-label="Permalink to &quot;1.2、目录详解&quot;">​</a></h4><table tabindex="0"><thead><tr><th><strong>目录名称</strong></th><th><strong>功能介绍</strong></th></tr></thead><tbody><tr><td>/bin</td><td>存放二进制文件</td></tr><tr><td>/sbin</td><td>存放二进制文件（可执行文件），只有root用户可以访问</td></tr><tr><td>/boot</td><td>系统的核心目录，存放系统的启动程序文件</td></tr><tr><td>/dev</td><td>存放系统的硬件配置文件</td></tr><tr><td>/etc</td><td>存放系统的配置文件（网络配置）</td></tr><tr><td>/home</td><td>家目录，为每一个用户创建一个独立的目录</td></tr><tr><td>/lib</td><td>系统的资源文件库</td></tr><tr><td>/proc</td><td>内存映射目录</td></tr><tr><td>/var</td><td>临时数据</td></tr><tr><td>/tmp</td><td>存放临时文件</td></tr><tr><td>/root</td><td>超级用户管理员对应的家目录</td></tr><tr><td>/usr</td><td>一般存放安装的程序，共享系统资源</td></tr></tbody></table><h3 id="_2、常用命令" tabindex="-1">2、常用命令 <a class="header-anchor" href="#_2、常用命令" aria-label="Permalink to &quot;2、常用命令&quot;">​</a></h3><h4 id="_2-1、shell概念" tabindex="-1">2.1、Shell概念 <a class="header-anchor" href="#_2-1、shell概念" aria-label="Permalink to &quot;2.1、Shell概念&quot;">​</a></h4><p>Shell俗称外壳，提供了一个使用界面的软件(finalShell、xShell…),以命令行的形式来操作Linux系统。</p><h4 id="_2-2、命令格式" tabindex="-1">2.2、命令格式 <a class="header-anchor" href="#_2-2、命令格式" aria-label="Permalink to &quot;2.2、命令格式&quot;">​</a></h4><p>命令格式见下：</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">命令</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  [-选项]  [参数]</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">cd</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">      # 切换目录</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">pwd</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    # 打印当前目录</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">cat</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">      # 查看文件</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">rm</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  -f</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">   /home/user/file.txt</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">   # 删除此目录下的file.txt文件</span></span></code></pre></div><h4 id="_2-3、常用命令详解" tabindex="-1">2.3、常用命令详解 <a class="header-anchor" href="#_2-3、常用命令详解" aria-label="Permalink to &quot;2.3、常用命令详解&quot;">​</a></h4><p>[user@localhost ~]$</p><ul><li>这是普通用户</li></ul><p>输入命令，进入root用户</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">su</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> root</span></span></code></pre></div><p>[root@localhost user]#</p><h5 id="_2-3-1、查看目录下文件" tabindex="-1">2.3.1、查看目录下文件 <a class="header-anchor" href="#_2-3-1、查看目录下文件" aria-label="Permalink to &quot;2.3.1、查看目录下文件&quot;">​</a></h5><table tabindex="0"><thead><tr><th>命令</th><th>功能</th></tr></thead><tbody><tr><td>ls</td><td>list表示显示文件</td></tr><tr><td>ls(ll) -l</td><td>显示文件详情(创建者，创建时间，权限)</td></tr><tr><td>ls(ll) -a</td><td>显示全部文件包含隐藏文件</td></tr><tr><td>ls(ll) -la</td><td>显示包含隐藏的文件并以列表展示</td></tr><tr><td>ls(ll) 目录名</td><td>查看指定目录下对应的内容</td></tr></tbody></table><h5 id="_2-3-2、查看完整路径" tabindex="-1">2.3.2、查看完整路径 <a class="header-anchor" href="#_2-3-2、查看完整路径" aria-label="Permalink to &quot;2.3.2、查看完整路径&quot;">​</a></h5><table tabindex="0"><thead><tr><th>命令</th><th>功能</th></tr></thead><tbody><tr><td>pwd</td><td>获取当前文件的目录结构</td></tr></tbody></table><h5 id="_2-3-3、目录切换" tabindex="-1">2.3.3、目录切换 <a class="header-anchor" href="#_2-3-3、目录切换" aria-label="Permalink to &quot;2.3.3、目录切换&quot;">​</a></h5><table tabindex="0"><thead><tr><th>命令</th><th>功能</th></tr></thead><tbody><tr><td>cd ..</td><td>往上一级目录</td></tr><tr><td>cd dirname</td><td>跳转到指定文件夹目录下</td></tr><tr><td>cd 或 cd ~</td><td>直接进入到用户的家目录</td></tr><tr><td>cd /</td><td>进入到系统的根目录下</td></tr></tbody></table><h5 id="_2-3-4、查看当我用户" tabindex="-1">2.3.4、查看当我用户 <a class="header-anchor" href="#_2-3-4、查看当我用户" aria-label="Permalink to &quot;2.3.4、查看当我用户&quot;">​</a></h5><table tabindex="0"><thead><tr><th>命令</th><th>功能</th></tr></thead><tbody><tr><td>whoami</td><td>查看当我用户的名称</td></tr></tbody></table><h5 id="_2-3-5、用户切换" tabindex="-1">2.3.5、用户切换 <a class="header-anchor" href="#_2-3-5、用户切换" aria-label="Permalink to &quot;2.3.5、用户切换&quot;">​</a></h5><table tabindex="0"><thead><tr><th>命令</th><th>功能</th></tr></thead><tbody><tr><td>su</td><td>从普通用户切换到root用户</td></tr><tr><td>su root</td><td>从普通用户切换到root用户</td></tr><tr><td>su 用户名</td><td>从root用户切换到指定的普通用户</td></tr><tr><td>exit</td><td>退出当前用户</td></tr></tbody></table><h5 id="_2-3-6、清屏" tabindex="-1">2.3.6、清屏 <a class="header-anchor" href="#_2-3-6、清屏" aria-label="Permalink to &quot;2.3.6、清屏&quot;">​</a></h5><table tabindex="0"><thead><tr><th>命令</th><th>功能</th></tr></thead><tbody><tr><td>clear</td><td>清屏</td></tr></tbody></table><h5 id="_2-3-7、管理用户" tabindex="-1">2.3.7、管理用户 <a class="header-anchor" href="#_2-3-7、管理用户" aria-label="Permalink to &quot;2.3.7、管理用户&quot;">​</a></h5><table tabindex="0"><thead><tr><th>命令</th><th>功能</th></tr></thead><tbody><tr><td>useradd 用户名</td><td>给当前系统添加一个新用户</td></tr><tr><td>passwd 用户名</td><td>给当前的用户设置登录密码</td></tr><tr><td>userdel -r 用户名</td><td>删除某个指定的用户</td></tr></tbody></table><h5 id="_2-3-8、查看命令的所在目录" tabindex="-1">2.3.8、查看命令的所在目录 <a class="header-anchor" href="#_2-3-8、查看命令的所在目录" aria-label="Permalink to &quot;2.3.8、查看命令的所在目录&quot;">​</a></h5><table tabindex="0"><thead><tr><th>命令</th><th>功能</th></tr></thead><tbody><tr><td>which 命令</td><td>查看当前命令所在路径</td></tr></tbody></table><h5 id="_2-3-9、文件操作" tabindex="-1">2.3.9、文件操作 <a class="header-anchor" href="#_2-3-9、文件操作" aria-label="Permalink to &quot;2.3.9、文件操作&quot;">​</a></h5><table tabindex="0"><thead><tr><th>命令</th><th>功能</th></tr></thead><tbody><tr><td>touch 文件名</td><td>创建文件，存放在当前目录下</td></tr><tr><td>touch dir/文件名</td><td>在dir目录下创建文件</td></tr><tr><td>echo 内容 &gt; 文件名</td><td>将内容写入此文件里面，若文件不存在则创建</td></tr><tr><td>echo 内容 &gt;&gt; 文件名</td><td>将内容追加到文件中</td></tr><tr><td>cat 文件名</td><td>查看文件内容</td></tr><tr><td>more 文件名</td><td>分屏查看文件各行内容，不支持鼠标上下滚动回看（按回车键往下查看）</td></tr><tr><td>less 文件名</td><td>分屏查看文件各行内容，支持鼠标上下滚动回看（按上下键进行查看）</td></tr><tr><td>head -n 文件名</td><td>查看文件的前n行内容</td></tr><tr><td>tail -n 文件名</td><td>查看文件的末尾n行内容</td></tr><tr><td>wc 文件名</td><td>查看文件的行数</td></tr></tbody></table><h5 id="_2-3-10、目录操作" tabindex="-1">2.3.10、目录操作 <a class="header-anchor" href="#_2-3-10、目录操作" aria-label="Permalink to &quot;2.3.10、目录操作&quot;">​</a></h5><table tabindex="0"><thead><tr><th>命令</th><th>功能</th></tr></thead><tbody><tr><td>mkdir 目录名</td><td>创建普通文件夹</td></tr><tr><td>mkdir -p 目录/目录/目录</td><td>递归方式创建多级父子级文件夹</td></tr><tr><td>mv 目录1 目录2</td><td>将目录1移动到目录2中</td></tr><tr><td>mv 目录1/目录2 ./</td><td>将目录1下的目录2移动到当前目录下</td></tr><tr><td>mv 目录1 name</td><td>将目录1改名为name</td></tr><tr><td>cp dir name</td><td>将dir拷贝一份，名为name</td></tr><tr><td>cp -r dir1 dir2</td><td>将dir1拷贝一份，名为dir2</td></tr><tr><td>rm 文件</td><td>删除文件</td></tr><tr><td>rm -r 目录</td><td>递归删除目录</td></tr><tr><td>rm -rf 目录</td><td>强制删除目录/文件</td></tr></tbody></table><h5 id="_2-3-11、查找操作" tabindex="-1">2.3.11、查找操作 <a class="header-anchor" href="#_2-3-11、查找操作" aria-label="Permalink to &quot;2.3.11、查找操作&quot;">​</a></h5><table tabindex="0"><thead><tr><th>命令</th><th>功能</th></tr></thead><tbody><tr><td>find / -name passwd</td><td>查找根目录下的passwd文件(passwd为文件完整名称)</td></tr><tr><td>find ./ -name “p”</td><td>查找文件名中包含“p”的文件</td></tr><tr><td>find ./ -type f 或 find ./ -type d</td><td>查找所有文件或目录</td></tr><tr><td>grep 内容 文件名</td><td>从指定文件中查找指定的内容</td></tr></tbody></table><h5 id="_2-3-12、编辑文件" tabindex="-1">2.3.12、编辑文件 <a class="header-anchor" href="#_2-3-12、编辑文件" aria-label="Permalink to &quot;2.3.12、编辑文件&quot;">​</a></h5><table tabindex="0"><thead><tr><th>命令</th><th>功能</th></tr></thead><tbody><tr><td>vi / vim 文件名</td><td>编辑文件</td></tr></tbody></table><p>基本上vi/vim共分为三种模式，分别是命令模式，输入模式和底线命令模式。这三种模式的作用分别是：</p><ul><li><p>命令模式：通过vi或者vim打开某个待要被编辑的文件，此时是不可以输入内容，即使不可以编辑文件。</p></li><li><p>输入模式：在命令模式下输入 <strong>“i”</strong> 键，即进入到输入模式，此时底部回提示一个**“insert”**。按下键盘的ESC键，又进入到命令模式。</p></li><li><p>底线模式：如果在命令模式下，输入**“:wq”<strong>,</strong>“:w”<strong>、</strong>“:q!”**,此命令在底部显示，所以称之为底线模式。</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">:wq</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  # 保存并退出当前文件</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">:q</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">     # 退出文件(不会保存)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">:q!</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    # 强行退出文件(不会保存)</span></span></code></pre></div></li></ul><h5 id="_2-3-13、进程管理" tabindex="-1">2.3.13、进程管理 <a class="header-anchor" href="#_2-3-13、进程管理" aria-label="Permalink to &quot;2.3.13、进程管理&quot;">​</a></h5><p>运行一个程序，就会启动一个进程。</p><table tabindex="0"><thead><tr><th>命令</th><th>功能</th></tr></thead><tbody><tr><td>ps</td><td>查看当前终端窗口的进程(PID表示进程号)</td></tr><tr><td>ps -aux</td><td>查看系统中的所有进程</td></tr><tr><td>ps -ef</td><td>查看进程列表</td></tr><tr><td>ps -ef | grep 具体要查询的程序名</td><td>查看指定程序的进程号</td></tr><tr><td>kill 进程号</td><td>杀死指定的进程号</td></tr><tr><td>kill -9 进程号</td><td>强制杀死指定的进程号</td></tr></tbody></table><h5 id="_2-314、端口开放" tabindex="-1">2.314、端口开放 <a class="header-anchor" href="#_2-314、端口开放" aria-label="Permalink to &quot;2.314、端口开放&quot;">​</a></h5><blockquote><p><strong>–zone=public</strong> 表示作用域为公共的</p><p><strong>–add-port=443/tcp</strong> 添加 tcp 协议的端口端口号为 443</p><p><strong>–permanent</strong> 永久生效，如果没有此参数，则只能维持当前 服 务生命周期内，重新启动后失效；</p></blockquote><table tabindex="0"><thead><tr><th>firewall-cmd --state</th><th>查看防火墙状态</th></tr></thead><tbody><tr><td>systemctl start firewalld.service</td><td>开启防火墙</td></tr><tr><td>firewall-cmd --zone=public --add-port=3306/tcp --permanent</td><td>开启指定端口</td></tr><tr><td>systemctl restart firewalld.service</td><td>重启防火墙</td></tr></tbody></table><h5 id="_2-3-15、其他命令" tabindex="-1">2.3.15、其他命令 <a class="header-anchor" href="#_2-3-15、其他命令" aria-label="Permalink to &quot;2.3.15、其他命令&quot;">​</a></h5><table tabindex="0"><thead><tr><th>命令</th><th>功能</th></tr></thead><tbody><tr><td>ifconfig</td><td>查看当前系统的IP地址等信息</td></tr><tr><td>tar -zcvf 压缩文件名.tar.gz 文件路径1 文件路径2…</td><td>实现一组文件或文件夹的打包</td></tr><tr><td>tar -zxvf 压缩文件名.tar.gz</td><td>实现压缩文件的解压</td></tr><tr><td>man [章节号] 命令/函数名</td><td>查询指定的命令或函数</td></tr></tbody></table><h3 id="_3、jdk的下载和安装" tabindex="-1">3、JDK的下载和安装 <a class="header-anchor" href="#_3、jdk的下载和安装" aria-label="Permalink to &quot;3、JDK的下载和安装&quot;">​</a></h3><p>1、JDK的下载和安装 官网下载Linux版本即可。</p><p>2、将下载好的JDK安装包传输到CentOS系统中。</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">①、使用Xftp工具上传</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">②、通过命令方式</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">scp</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">   /文件当前所在路径/文件名</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    root@ip地址:/上传的位置</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">第二种方式在windows上的具体操作</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">window</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> +</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> R</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 打开命令行</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">输入scp</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  找到文件，直接拖进去命令行窗口</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">   root@ip:/上传的具体位置</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">然后回车，然后输入主机密码，此主机为远程终端的主机。</span></span></code></pre></div><p>3、使用tar命令将JDK文件解压到指定目录</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 解压文件到指定的目录下</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">tar</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  -zxvf</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">   要解压的文件</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  -C</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">   目标目录</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">tar</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">   -zxvf</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    jdk-8u361-linux-i586-x86.tar.gz</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">   -C</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  /usr/</span></span></code></pre></div><p>4、配置JDK环境变量。使用root用户编辑/etc/profile配置文件，向profile文件末尾追加内容如下：</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 编辑目录 vim /etc/profile , 追加到最后一行</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> JAVA_HOME</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">/usr/jdk1.8.0_361</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> PATH</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$JAVA_HOME/bin:$PATH</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 保存退出</span></span></code></pre></div><p>5、重新加载配置文件使其生效</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">source</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /etc/profile</span></span></code></pre></div><p>6、测试JAVA是否安装成功</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">java</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  -version</span></span></code></pre></div><h3 id="_4、tomcat的下载和安装" tabindex="-1">4、Tomcat的下载和安装 <a class="header-anchor" href="#_4、tomcat的下载和安装" aria-label="Permalink to &quot;4、Tomcat的下载和安装&quot;">​</a></h3><p>1、Tomcat的下载和安装 官网下载Linux版本即可。</p><p>2、将下载好的JDK安装包传输到CentOS系统中。</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">①、使用Xftp工具上传</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">②、通过命令方式</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">scp</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">   /文件当前所在路径/文件名</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    root@ip地址:/上传的位置</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">第二种方式在windows上的具体操作</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">window</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> +</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> R</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 打开命令行</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">输入scp</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  找到文件，直接拖进去命令行窗口</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">   root@ip:/上传的具体位置</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">然后回车，然后输入主机密码，此主机为远程终端的主机。</span></span></code></pre></div><p>3、使用tar命令将JDK文件解压到指定目录</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 解压文件到指定的目录下</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">tar</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  -zxvf</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">   要解压的文件</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  -C</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">   目标目录</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">tar</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">   -zxvf</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    apache-tomcat-8.5.85.tar.gz</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">   -C</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  /usr/</span></span></code></pre></div><p>4、启动和关闭Tomcat</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 进入到bin目录下</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> apache-tomcat-8.5.85/bin</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 在当前目录下启动</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">./startup.sh</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 在当前目录下关闭</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">./shutdown.sh</span></span></code></pre></div><p>5、测试Tomcat是否启动成功</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 8080是Tomcat默认端口号</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">访问当前主机下的8080端口</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  82.157.234.124:8080</span></span></code></pre></div><p>注意：上面操作Tomcat只能在局域网内访问，公网访问不了。</p><p>6、开放防火墙端口即可</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">/sbin/iptables</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  -I</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  INPUT</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  -p</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  tcp</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  --dport</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  8080</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  -j</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  ACCEPT</span></span></code></pre></div><p>7、配置环境变量。使用root用户打开配置文件/etc/profile，向文件末尾追加内容(如果考虑集群则不用配置)。$表示访问的是一个系统中定义的变量。</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  TOMCAT_HOME = /usr/tomcat文件全名</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  PATH = $TOMCAT_HOME/bin:$PATH</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 保存并退出</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">:wq</span></span></code></pre></div><p>8、验证配置文件是否生效</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">source</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  /etc/profile</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">./startup.sh</span></span></code></pre></div><h3 id="_5、mysql的下载和安装" tabindex="-1">5、Mysql的下载和安装 <a class="header-anchor" href="#_5、mysql的下载和安装" aria-label="Permalink to &quot;5、Mysql的下载和安装&quot;">​</a></h3><p>检测当前系统是否安装了Mysql数据库</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">rpm</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -qa</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  # 查询当前系统中安装的所有软件</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">rpm</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -qa</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> grep</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> mysql</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  # 查询当前系统中安装的名称带mysql的软件</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">rpm</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -qa</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> grep</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> mariadb</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  # 查询当前系统中安装的名称带mariadb的软件</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 移除mariadb-libs</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">rpm</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -e</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --nodeps</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> mariadb-libs</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">RPM软件包管理器，是红帽Linux用于管理和安装软件的工具</span></span></code></pre></div><p>1、在/usr/下创建一个mysql文件夹用来存放mysql。</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mkdir</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  mysql</span></span></code></pre></div><h4 id="_1、在线安装" tabindex="-1"><strong>1、在线安装</strong> <a class="header-anchor" href="#_1、在线安装" aria-label="Permalink to &quot;**1、在线安装**&quot;">​</a></h4><p>2、通过wget指令下载mysql的rpm文件。</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 进入到刚刚创建的mysql目录下,输入如下命令</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">wget</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> https://cdn.mysql.com//Downloads/MySQL-8.0/mysql-8.0.32-1.el7.x86_64.rpm-bundle.tar</span></span></code></pre></div><p>3、解压安装包</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">tar</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -xvf</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> mysql-8.0.32-1.el7.x86_64.rpm-bundle.tar</span></span></code></pre></div><p>4、按顺序安装rpm软件包(一共需要六个，一般)</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">rpm</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -ivh</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> mysql-community-common-8.0.32-1.el7.x86_64.rpm</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">rpm</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -ivh</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> mysql-community-client-plugins-8.0.32-1.el7.x86_64.rpm</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">rpm</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -ivh</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> mysql-community-libs-8.0.32-1.el7.x86_64.rpm</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">rpm</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -ivh</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> mysql-community-devel-8.0.32-1.el7.x86_64.rpm</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">rpm</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -ivh</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> mysql-community-libs-compat-8.0.32-1.el7.x86_64.rpm</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">rpm</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -ivh</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> mysql-community-client-8.0.32-1.el7.x86_64.rpm</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 安装一个网络工具</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">yum</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> net-tools</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">rpm</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -ivh</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> mysql-community-icu-data-files-8.0.32-1.el7.x86_64.rpm</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">rpm</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -ivh</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> mysql-community-server-8.0.32-1.el7.x86_64.rpm</span></span></code></pre></div><p>5、启动mysql</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">systemctl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  status</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> mysqld</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  # 查看mysql服务状态</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">systemctl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  start</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> mysqld</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">   # 启动mysql服务</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">systemctl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> enable</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> mysqld</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">   # 开机启动mysql服务</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">netstat</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -tunlp</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">   # 查看系统已经启动的服务</span></span></code></pre></div><p>6、查看临时密码</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">cat</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /var/log/mysqld.log</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">cat</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /var/log/mysqld.log</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> grep</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> password</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">/var/log/mysqld.log</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 中找不到临时密码</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">1.删除原来安装过的mysql残留的数据（这一步非常重要，问题就出在这）</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">rm</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -rf</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /var/lib/mysql</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">2.重启mysqld服务</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">systemctl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> restart</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> mysqld</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">3.再去找默认密码</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">cat</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /var/log/mysqld.log</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> grep</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> password</span></span></code></pre></div><p>7、登录MySQL数据库</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mysql</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -u</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> root</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -p</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 进入到mysql后,修改临时密码</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">set</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> global</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> validate_password_length=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">6</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 设置密码长度最低位数</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">set</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> global</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> validate_password_policy=LOW</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 设置安全等级低</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">set</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> password=password</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">&#39;020708&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#设置密码</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 开启访问权限，以便于在本地通过navicat连接到远程的这个mysql数据库。</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">grant</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> all</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> on</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> *</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">*</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> to</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;root&#39;@&#39;%&#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> identified</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> by</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;020708&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 刷新</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">flush</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> privileges</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span></code></pre></div><h4 id="_2、离线安装" tabindex="-1"><strong>2、离线安装</strong> <a class="header-anchor" href="#_2、离线安装" aria-label="Permalink to &quot;**2、离线安装**&quot;">​</a></h4><p>1、在windows下载mysql一下两个安装文件</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">MySQL-server-5.6.45-1.e17.x86_64.rpm</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">MySQL-client-5.6.45-1.e17.x86_64.rpm</span></span></code></pre></div><p>2、将安装包上传到/usr/mysql目录下</p><p>3、清除CentOS自带的mariaDB包。</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">rpm</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -qa</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> grep</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> mariadb</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">rpm</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -e</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --nodeps</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> mariadb-libs</span></span></code></pre></div><p>4、安装mysql的服务和客户端。</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">rpm</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -ivh</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> MySQL-server-5.6.45-1.e17.x86_64.rpm</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">rpm</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -ivh</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> MySQL-client-5.6.45-1.e17.x86_64.rpm</span></span></code></pre></div><h4 id="_3、mysql远程连接报host-is-not-allowed-to-connect-解决办法" tabindex="-1"><strong>3、mysql远程连接报Host ‘‘ is not allowed to connect.解决办法</strong> <a class="header-anchor" href="#_3、mysql远程连接报host-is-not-allowed-to-connect-解决办法" aria-label="Permalink to &quot;**3、mysql远程连接报Host ‘‘ is not allowed to connect.解决办法**&quot;">​</a></h4><p><strong>如下步骤：</strong></p><p>①、进入mysql</p><div class="language-mysql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">mysql</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>mysql -uroot -p</span></span></code></pre></div><p>②、选择mysql表</p><div class="language-mysql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">mysql</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>use mysql;</span></span></code></pre></div><p>③、查看哪些主机可以连接</p><div class="language-mysql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">mysql</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>select host from user;</span></span></code></pre></div><p>如果没有放开远程连接权限是如下形式</p><p><img src="https://pic.imgdb.cn/item/6496fa341ddac507ccf560e5.jpg" alt=""></p><p>④、输入以下语句，然后回车</p><div class="language-mysql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">mysql</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>update user set host =&#39;%&#39; where user =&#39;root&#39;;</span></span></code></pre></div><p>⑤、再输入 flush privileges; 进行权限刷新，然后再回去重新启动你的软件就没有问题了</p><div class="language-mysql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">mysql</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>flush privileges;</span></span></code></pre></div><h4 id="_4、mysql忘记密码如何取消验证" tabindex="-1">4、Mysql忘记密码如何取消验证 <a class="header-anchor" href="#_4、mysql忘记密码如何取消验证" aria-label="Permalink to &quot;4、Mysql忘记密码如何取消验证&quot;">​</a></h4><p><strong>1、进入配置文件 vim /etc/my.cnf 添加代码 skip-grant-tables 即可跳过mysql密码验证进行登录</strong></p><img src="https://ice.frostsky.com/2024/03/12/5519ae73d919bb93bebaa45a28a340dd.png" alt="5519ae73d919bb93bebaa45a28a340dd.png" style="zoom:67%;"><p><strong>2、重启mysql</strong></p><blockquote><p><strong>systemctl restart mysqld</strong></p></blockquote><p><strong>3、重新登录，密码随便填即可进入(回车即可)</strong></p><p><strong>4、此时输入 ALTER USER &#39;root&#39;@&#39;localhost&#39; IDENTIFIED WITH mysql_native_password BY &#39;你的密码&#39;; 发现修改不了 （注意：密码得复杂点，像123456这样的会提示重新设置复杂的密码）</strong></p><blockquote><p>**ALTER USER &#39;root&#39;@&#39;localhost&#39; IDENTIFIED WITH mysql_native_password BY &#39;@Aaguai123&#39;; **</p></blockquote><p><strong>5、需要先将root密码置空 update user set authentication_string=&#39;&#39; where user = &#39;root&#39;;</strong></p><blockquote><p><strong>update mysql.user set authentication_string=&#39;&#39; where user = &#39;root&#39;;</strong></p></blockquote><p><strong>6、再执行步骤4即可修改成功</strong></p><p><strong>7、flush privileges; 刷新mysql相关系统权限表，退出</strong></p><blockquote><p><strong>flush privileges;</strong></p></blockquote><p><strong>8、进入配置文件 vim /etc/my.cnf 将这行注释 skip-grant-tables 前面加#即可注释</strong></p><p><strong>9、重新启动mysql，输入刚才设置的密码进入mysql：</strong></p><blockquote><p><strong>systemctl restart mysqld</strong></p></blockquote><p><strong>==错误==</strong></p><blockquote><p>第一次安装完mysql，修改默认密码的时候，报“<strong>The MySQL server is running with the --<a href="https://so.csdn.net/so/search?q=skip&amp;spm=1001.2101.3001.7020" target="_blank" rel="noreferrer">skip</a>-grant-tables option so it cannot execute this statement</strong>”。</p></blockquote><p>先刷新mysql然后再重新修改密码即可。</p><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">mysql</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ALTER USER </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;root&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">@</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;localhost&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> IDENTIFIED WITH mysql_native_password BY </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;你的密码&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ERROR </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1290</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (HY000)</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> The MySQL server is running with the </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">--</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">skip</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">grant</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">tables option so it cannot execute </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> statement</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">mysql</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> flush privileges;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Query OK, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> rows </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">affected</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.00</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> sec)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">mysql</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ALTER USER </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;root&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">@</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;localhost&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> IDENTIFIED WITH mysql_native_password BY </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;你的密码&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Query OK, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> rows </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">affected</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.01</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> sec)</span></span></code></pre></div><h4 id="_5、查看防火墙端口开放情况" tabindex="-1">5、查看防火墙端口开放情况 <a class="header-anchor" href="#_5、查看防火墙端口开放情况" aria-label="Permalink to &quot;5、查看防火墙端口开放情况&quot;">​</a></h4><p><strong>防火墙开启3306端口</strong></p><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">systemctl status firewalld</span></span></code></pre></div><p>2、查看3306端口状态</p><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">firewall</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">cmd </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">--</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">zone</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> --</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">query</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">port</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3306</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">tcp</span></span></code></pre></div><p>3、如果是no，表示关闭，打开3306端口</p><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">firewall</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">cmd </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">--</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">zone</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> --</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">add</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">port</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3306</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">tcp </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">--</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">permanent</span></span></code></pre></div><p>4、防火墙重载</p><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">firewall</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">cmd </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">--</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">reload</span></span></code></pre></div><p>5、再次查看3306状态</p><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">firewall</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">cmd </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">--</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">zone</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> --</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">query</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">port</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3306</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">tcp</span></span></code></pre></div><h3 id="_6、redis-7-0安装" tabindex="-1">6、redis 7.0安装 <a class="header-anchor" href="#_6、redis-7-0安装" aria-label="Permalink to &quot;6、redis 7.0安装&quot;">​</a></h3><h4 id="_1、安装gcc编译环境" tabindex="-1">①、安装gcc编译环境 <a class="header-anchor" href="#_1、安装gcc编译环境" aria-label="Permalink to &quot;①、安装gcc编译环境&quot;">​</a></h4><blockquote><p><strong>yum -y install gcc- c++</strong></p></blockquote><h4 id="_2、安装-进入redis目录" tabindex="-1"><strong>②、安装，进入redis目录</strong> <a class="header-anchor" href="#_2、安装-进入redis目录" aria-label="Permalink to &quot;**②、安装，进入redis目录**&quot;">​</a></h4><blockquote><p><strong>make &amp;&amp; make install</strong></p></blockquote><h4 id="_3、redis客户端和服务端src下" tabindex="-1"><strong>③、redis客户端和服务端src下</strong> <a class="header-anchor" href="#_3、redis客户端和服务端src下" aria-label="Permalink to &quot;**③、redis客户端和服务端src下**&quot;">​</a></h4><img src="https://ice.frostsky.com/2024/03/12/6b535553bc588c312a73d8d25ea6b81c.png" alt="6b535553bc588c312a73d8d25ea6b81c.png" style="zoom:80%;"><h4 id="_4、修改redis-conf配置文件" tabindex="-1"><strong>④、修改redis.conf配置文件</strong> <a class="header-anchor" href="#_4、修改redis-conf配置文件" aria-label="Permalink to &quot;**④、修改redis.conf配置文件**&quot;">​</a></h4><ul><li><strong>默认daemonize no 改为 daemonize yes （后台启动）</strong></li><li><strong>默认protected-mode yes 改为 protected-mode no（关闭验证模式）</strong></li><li><strong>默认bind 127.0.0.1 改为 直接注释掉（默认bind 127.0.0.1 只能本机访问）或改成本机IP地址，否则影响远程连接</strong></li><li><strong>添加redis密码 改为requirepass 你自己设置的密码</strong></li></ul><h5 id="_5、启动服务" tabindex="-1"><strong>⑤、启动服务</strong> <a class="header-anchor" href="#_5、启动服务" aria-label="Permalink to &quot;**⑤、启动服务**&quot;">​</a></h5><blockquote><p><strong>./redis-server ../redis.conf</strong></p></blockquote><h3 id="_7、elasticsearch安装" tabindex="-1">7、ElasticSearch安装 <a class="header-anchor" href="#_7、elasticsearch安装" aria-label="Permalink to &quot;7、ElasticSearch安装&quot;">​</a></h3><p><strong>安装7.17.6版本</strong></p><h4 id="_1、安装es" tabindex="-1"><strong>1、安装es</strong> <a class="header-anchor" href="#_1、安装es" aria-label="Permalink to &quot;**1、安装es**&quot;">​</a></h4><p><strong>压缩包文件(解压)</strong></p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">tar</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -zxvf</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> elasticsearch-7.17.6-linux-x86_64.tar.gz</span></span></code></pre></div><p><strong>解压后的文件</strong></p><p>将文件解压后放入自己的linux服务器，我将文件放到了<code>/usr/local/es</code>目录下，然后给所有文件及其子文件添加权限</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /usr/local/es</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">chmod</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -R</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 777</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> *</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> .</span></span></code></pre></div><h4 id="_2、创建专用用户" tabindex="-1"><strong>2、创建专用用户</strong> <a class="header-anchor" href="#_2、创建专用用户" aria-label="Permalink to &quot;**2、创建专用用户**&quot;">​</a></h4><p><strong>root用户不能直接启动Elasticsearch，所以需要创建一个专用用户，来启动ES</strong></p><p>创建用户</p><ul><li>useradd swx</li></ul><p>创建所属组：</p><ul><li>chown -R swx ./es</li></ul><h4 id="_3、修改启动内存" tabindex="-1"><strong>3、修改启动内存</strong> <a class="header-anchor" href="#_3、修改启动内存" aria-label="Permalink to &quot;**3、修改启动内存**&quot;">​</a></h4><p><strong>es启动内存默认1g，如果服务器内存不够可以设置默认启动512m</strong></p><p><strong>进入config文件夹开始配置，编辑jvm.options：</strong></p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">## -Xms4g</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">## -Xmx4g</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">##</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">## See https://www.elastic.co/guide/en/elasticsearch/reference/7.17/heap-size.html</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">## for more information</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">##</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">################################################################</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">-Xms512m</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">-Xms512m</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">################################################################</span></span></code></pre></div><h4 id="_4、修改es核心配置文件" tabindex="-1"><strong>4、修改ES核心配置文件</strong> <a class="header-anchor" href="#_4、修改es核心配置文件" aria-label="Permalink to &quot;**4、修改ES核心配置文件**&quot;">​</a></h4><p><strong>编辑config目录下的elasticsearch.yml文件</strong></p><ul><li><p>修改日志记录信息</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">path.data:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /usr/local/es/data</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">path.logs:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /usr/local/es/logs</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#不检查安全</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">xpack.security.enabled:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> false</span></span></code></pre></div></li><li><p>修改绑定的ip允许远程访问</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#network.host: 192.168.0.1</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">network.host:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0.0.0.0</span></span></code></pre></div></li></ul><h4 id="_5、启动es" tabindex="-1"><strong>5、启动ES</strong> <a class="header-anchor" href="#_5、启动es" aria-label="Permalink to &quot;**5、启动ES**&quot;">​</a></h4><p><strong>使用刚刚创建的用户启动es</strong></p><p>切换用户</p><ul><li>su swx</li></ul><p>进入bin目录</p><ul><li>cd /usr/local/es/bin</li></ul><p>启动elasticsearch</p><ul><li>./elasticsearch</li></ul><p>后台启动</p><ul><li>./elasticsearch -d</li></ul><h4 id="_6、出现错误" tabindex="-1"><strong>6、出现错误</strong> <a class="header-anchor" href="#_6、出现错误" aria-label="Permalink to &quot;**6、出现错误**&quot;">​</a></h4><p>==<strong>注意：正常来说可以启动成功，以下是一些可能会报错的情况</strong>==</p><p><strong>1、vm.max_map_count [65530] is too low问题</strong></p><p>在 /etc/sysctl.conf 文件最后添加如下内容，即可永久修改</p><p>切换到root用户</p><ul><li>执行命令：su root</li></ul><p>执行命令</p><ul><li>vim /etc/sysctl.conf</li></ul><p>添加如下内容</p><ul><li>vm.max_map_count=262144</li></ul><p>保存退出，刷新配置文件</p><ul><li>sysctl -p</li></ul><p>切换swx用户，继续启动</p><ul><li>su swx</li></ul><p>启动es服务(后台启动，如果不想后台启动就不要加-d)</p><ul><li>/usr/local/es/bin/elasticsearch -d</li></ul><p><strong>2、可能遇到的max file descriptors [4096]问题</strong></p><p>切换到root用户，执行命令：</p><ul><li><code>vi /etc/security/limits.conf</code></li></ul><p><strong>添加内容</strong></p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> soft nofile 65536</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> hard nofile 131072</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> soft nproc 2048</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> hard nproc 4096</span></span></code></pre></div><p><strong>3、bootstrap checks failed. You must address the points described in the following [1] lines before starting Elasticsearch.</strong></p><p><strong>修改elasticsearch.yml配置文件</strong></p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">etwork.host:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0.0.0.0</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">node.name:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> node-1</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">cluster.initial_master_nodes:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;node-1&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span></code></pre></div><h4 id="_7、配置es自己的jdk" tabindex="-1">7、配置ES自己的jdk <a class="header-anchor" href="#_7、配置es自己的jdk" aria-label="Permalink to &quot;7、配置ES自己的jdk&quot;">​</a></h4><p><strong>elasticsearch</strong>默认启用时首先找系统安装的jdk，如果没有安装jkd的话就使用es自带的jdk。 如果系统没有安装jdk的话就不需要配置jdk，es会启用自带jdk。这样的话，就不需要管jdk设置了。 如果系统安装了jkd，反而存在jdk和elasticsearch版本不一致的问题，导致es无法启动</p><blockquote><p><strong>修改配置</strong></p></blockquote><p>在/usr/local/elasticsearch/bin目录下vim elasticsearch-env：大约39至50行定义了jdk的选择方法</p><p><img src="https://s2.loli.net/2024/06/27/GRv2nXVZoU91FMe.png" alt=""></p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># now set the path to java</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [ </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> -z</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$JAVA_HOME</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ]; </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">then</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">JAVA</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$JAVA_HOME</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">/bin/java&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">JAVA_TYPE</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;JAVA_HOME&quot;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">else</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [ </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;$(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">uname</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -s</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">)&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;Darwin&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ]; </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">then</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># macOS has a different structure</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">JAVA</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$ES_HOME</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">/jdk.app/Contents/Home/bin/java&quot;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">else</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">JAVA</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$ES_HOME</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">/jdk/bin/java&quot;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">fi</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">JAVA_TYPE</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;bundled jdk&quot;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">fi</span></span></code></pre></div><p>JAVA_HOME指系统自己安装的jkd;ES_HOME指 elasticsearch自带的jdk。使用elasticsearch自带的jdk</p><p><strong>方法一</strong> 取消检查启用自行安装的java，参数为JAVA_HOME</p><p><img src="https://s2.loli.net/2024/06/27/o9GVx6Uc1fLANtW.png" alt=""></p><blockquote><p><strong>修改为:</strong></p></blockquote><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># now set the path to java</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [ </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;$(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">uname</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -s</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">)&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;Darwin&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ]; </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">then</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># macOS has a different structure</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">JAVA</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$ES_HOME</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">/jdk.app/Contents/Home/bin/java&quot;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">else</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">JAVA</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$ES_HOME</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">/jdk/bin/java&quot;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">fi</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">JAVA_TYPE</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;bundled jdk&quot;</span></span></code></pre></div><h3 id="_8、项目部署" tabindex="-1">8、项目部署 <a class="header-anchor" href="#_8、项目部署" aria-label="Permalink to &quot;8、项目部署&quot;">​</a></h3><p>使用maven将项目打成jar包，然后将jar包放到linux目录中,然后在项目目录中进入终端执行nohup java -jar 项目名.jar &amp;&gt; 项目名.log &amp; 。</p><p>项目名.log为项目日志输出</p>`,235),h=[l];function e(p,k,d,r,o,g){return i(),a("div",{"data-pagefind-body":!0,"data-pagefind-meta":"base64:JTdCJTIydGl0bGUlMjIlM0ElMjJMaW51eCVFNSU5RiVCQSVFNiU5QyVBQyVFNSU5MSVCRCVFNCVCQiVBNCUyMiUyQyUyMmF1dGhvciUyMiUzQSUyMiVFNiU4QSU4MCVFNiU5QyVBRiVFOCVBNyVBMyVFNyVBMCU4MSUyMiUyQyUyMnJlYWRpbmdUaW1lJTIyJTNBdHJ1ZSUyQyUyMmRhdGUlMjIlM0ExNzIxNDMzNjAwMDAwJTJDJTIydGFnJTIyJTNBJTVCJTIyTGludXglMjIlNUQlMkMlMjJjYXRlZ29yaWVzJTIyJTNBJTVCJTIyTGludXglMjIlNUQlN0Q="},h)}const F=s(n,[["render",e]]);export{y as __pageData,F as default};
